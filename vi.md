# VI

编辑器有：`vim`,`emacs`

vi编辑器默认有三种模式，`命令（默认）`,`编辑`,`尾行`。
进入编辑模式：`a`,`i`,`o`,`s` 四个键都可以
进入尾行模式：`:`,`/` 两种模式。
不保存文件强制退出编辑模式：`:q!`。
编辑模式下不可以退出，需要进入尾行模式才能退出。
尾行模式进入命令模式：1. esc。 2.`连续两次esc` 。3. 删除全部尾行内容

## 尾行操作模式

> 打开vi编辑器

```
vi 文件名
```

> 退出编辑器

```
ctrl + c
> :q 
```

> 保存文件

```
> :w
```

> 保存并直接退出
```
> :wq
```

> 保存并强制退出

```
> :wq!
```

> 搜索内容

```
> :/关键词（内容）  // 第一次出现的位置
> ?/关键词  // 最后一次出现的位置
> /关键词
```
`n` 往前查看
`shift+n`往后查找

> 内容替换

```
> :s/被替换内容/替换内容  // 替换当前行的目标内容 （注意：鼠标需要在当前修改行数上.）
> :s/被替换内容/替换内容/g // 当前行上目标内容全部替换 // g全局 （注意：鼠标需要在当前修改行数上.）
> :%s/被替换内容/替换内容/g // 替换文档全部目标所有内容
```

> 编辑器前加上行数显示

```
> :set/number （:set nu）
```

> 取消序号显示

```
> :set nonumber (:set nonu)
```

> 跳转行数

```
:n  // 跳转行数
:10 
```

## 命令模式

命令模式，光标移动

> 字符间

1. 上下左右移动 // 单个字符移动
2. `h`,`j`,`k`,`l` 移动 // 单个字符移动

> 单词间

1. `e`,本单词尾部或下个单词的尾部 // 单个单词移动 (end)
2. `w`, 下个单词的首字母 (word)
3. `b`, 上个单词的首字母 (before)

> 行间

1. `$` 行尾
2. `0` 行首

> 段落间

`{` 本段落头部
`}` 本段落尾部


> 屏幕间

`L` 屏幕尾部
`H` 屏幕开头
不支持跨屏跳转

> 文档

`G` 文档的尾部
`1+G` 文档开头 (先按数字连续按G)
`n+G` 定位到文档的第n行 (先按数字连续按G)


命令模式，删除内容

```
> dd // 删除本行
> n+dd // 删除指定多少行 (从当前行开始计算)
> d+光标移动的区域 // 删除选中的区域 // d+$ 从当前位置，一直删除至行尾 （包括光标所在位置） // d+e 删除单词结尾
```

命令模式，内容复制
```
> yy // 复制本行
> n+yy // 从当前行复制n行
> y+光标移动  // y+e 复制单词


> p // 粘贴内容 
> dd + p // 删除的内容,再粘贴 （删除和复制的内容都是放入缓存中）
``` 

编辑模式

`a`,`i`,`o`,`s`从命令模式进入编辑模式
`esc` 退出编辑模式到命令模式

`a` 光标后移动一位
`i` 光标不动
`o` 另起一行
`s` 删除光标所在位置

